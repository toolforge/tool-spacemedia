<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <body>
    <nav th:fragment="pagination_nav(page)" th:if="${page.totalPages > 0}" aria-label="Search results pages">
      <ul class="pagination">
        <li th:class="'page-item ' + (${pageNumber==page.number + 1} ? active)"
            th:each="pageNumber : ${pageNumbers}">
          <a class="page-link" th:if="!${search.q}" th:href="@{''(size=${page.size}, page=${pageNumber-1})}" th:text="${pageNumber}">
          </a>
          <a class="page-link" th:if="${search.q}" th:href="@{''(q=${search.q}, size=${page.size}, page=${pageNumber-1})}" th:text="${pageNumber}">
          </a>
        </li>
      </ul>
    </nav>
    <table class="table table-sm table-hover">
      <thead class="thead-dark">
	      <tr>
	        <th>Media</th>
	        <th>Title</th>
	        <th>Date</th>
	        <th>Description</th>
	        <th>Commons</th>
	      <tr>
      </thead>
      <tbody>
	      <tr th:each="media : ${medias}">
	        <td th:fragment="cell_media">
	          <a th:href="${agency.getSourceUrl(media)}">
	            <img th:src="${agency.getThumbnailUrl(media)}" width="210px" />
	          </a>
	        </td>
	        <td th:text="${media.title}"></td>
	        <td th:text="${media.date}"></td>
	        <td th:utext="${media.description}"></td>
	        <td><a th:each="file : ${media.commonsFileNames}" th:text="${file}" th:href="'https://commons.wikimedia.org/wiki/File:' + ${file}"></a></td>
	      </tr>
      </tbody>
    </table>
  </body>
</html>